<p-toast></p-toast>
<h1 class="text-center fs-2">Update Employee</h1>
<div class="card">
  <form
    [formGroup]="editForm"
    (ngSubmit)="update()"
    class="p-3 d-flex flex-column gap-2"
  >
    <!-- Row 1: Employee Name, Gender, Date of Birth -->
    <div class="row mb-3">
      <div class="col-md-4">
        <div class="form-group">
          <label for="employeeName">Employee Name<span class="text-danger">(*)</span></label>
          <input
            id="employeeName"
            type="text"
            class="form-control"
            formControlName="employeeName"
            placeholder="Enter employee name"
          />
          <div *ngIf="editForm.get('employeeName')?.invalid && editForm.get('employeeName')?.touched" class="text-danger">
            Employee Name is required.
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-group">
          <label for="gender">Gender<span class="text-danger">(*)</span></label>
          <select id="gender" class="form-control" formControlName="gender">
            <option value="">Select gender</option>
            <option value="true">Male</option>
            <option value="false">Female</option>
          </select>
          <div *ngIf="editForm.get('gender')?.invalid && editForm.get('gender')?.touched" class="text-danger">
            Gender is required.
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-group">
          <label for="dateOfBirth">Date of Birth<span class="text-danger">(*)</span></label>
          <input
            id="dateOfBirth"
            type="date"
            class="form-control"
            formControlName="dateOfBirth"
          />
          <div *ngIf="editForm.get('dateOfBirth')?.invalid && editForm.get('dateOfBirth')?.touched" class="text-danger">
            Date of Birth is required.
          </div>
        </div>
      </div>
    </div>

    <!-- Row 2: Phone, Address, Email -->
    <div class="row mb-3">
      <div class="col-md-4">
        <div class="form-group">
          <label for="phone">Phone<span class="text-danger">(*)</span></label>
          <input
            id="phone"
            type="text"
            class="form-control"
            formControlName="phone"
            placeholder="Enter phone number"
          />
          <div *ngIf="editForm.get('phone')?.invalid && editForm.get('phone')?.touched" class="text-danger">
            Phone is required.
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-group">
          <label for="address">Address<span class="text-danger">(*)</span></label>
          <input
            id="address"
            type="text"
            class="form-control"
            formControlName="address"
            placeholder="Enter address"
          />
          <div *ngIf="editForm.get('address')?.invalid && editForm.get('address')?.touched" class="text-danger">
            Address is required.
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-group">
          <label for="email">Email<span class="text-danger">(*)</span></label>
          <input
            id="email"
            type="email"
            class="form-control"
            formControlName="email"
            placeholder="Enter email address"
          />
          <div *ngIf="editForm.get('email')?.invalid && editForm.get('email')?.touched" class="text-danger">
            Email is required.
          </div>
        </div>
      </div>
    </div>

    <!-- Row 3: Working Place, Position, Image -->
    <div class="row mb-3">
      <div class="col-md-4">
        <div class="form-group">
          <label for="workingPlace">Working Place</label>
          <input
            id="workingPlace"
            type="text"
            class="form-control"
            formControlName="workingPlace"
            placeholder="Enter working place"
          />
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-group">
          <label for="position">Position</label>
          <input
            id="position"
            type="text"
            class="form-control"
            formControlName="position"
            placeholder="Enter position"
          />
        </div>
      </div>

      <div class="col-md-4">
        <div class="form-group">
            <label for="image">Image</label>
            <input type="file" class="form-control" id="image" formControlName="image"
                (change)="onFileSelected($event)" accept="image/*" />
        </div>
      </div>
      <div *ngIf="imageUrl" class="mt-3">
          <img [src]="imageUrl" alt="Selected Image" style="max-width: 300px; max-height: 200px;" />
      </div>
    </div>

    <!-- Form buttons -->
    <div class="d-flex gap-2">
      <button [disabled]="editForm.invalid" class="btn btn-success">Save</button>
      <!-- <button type="button" class="btn btn-danger" (click)="reset()">Reset</button> -->
      <button type="button" class="btn btn-secondary" [routerLink]="['/employee/list']">Cancel</button>
    </div>
  </form>
</div>
